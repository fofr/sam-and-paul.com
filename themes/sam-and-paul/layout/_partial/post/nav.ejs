<%
  while (post.prev && (post.prev.page > 1 || post.title == post.prev.title)) {
    post.prev = post.prev.prev || null;
  }

  while (post.next && (post.next.page > 1 || post.title == post.next.title)) {
    post.next = post.next.next || null;
  }
%>
<% if (post.prev || post.next) { %>
  <nav class="next-prev-post">
    <% if (post.next) { %>
      <a href="<%- config.root %><%- post.next.path %>" title="<%= post.next.title %>" rel="prev"<% if (keys) { %> data-key="left"<% } %>>
        &larr; <%= post.next.title %></a>
    <% } %>
    <% if (post.prev && post.next) { %> &middot; <% } %>
    <% if (post.prev) { %>
      <a href="<%- config.root %><%- post.prev.path %>" title="<%= post.prev.title %>" rel="next" <% if (keys) { %> data-key="right"<% } %>>
        <%= post.prev.title %> &rarr;</a>
    <% } %>
  </nav>
<% } %>
